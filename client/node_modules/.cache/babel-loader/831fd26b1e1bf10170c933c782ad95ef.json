{"ast":null,"code":"import _defineProperty from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import Swal from\"sweetalert2\";import language from\"../../properties/language\";import{UserContext}from\"../../context/userContext\";import{endpoint}from\"../../api\";import DefaultInput from\"../../components/defaultInput\";import DefaultButton from\"../../components/defaultButton\";import{DARK_GREEN,GREEN,WHITE}from\"../../helpers/constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Registration=/*#__PURE__*/function(_React$Component){_inherits(Registration,_React$Component);var _super=_createSuper(Registration);function Registration(props){var _this;_classCallCheck(this,Registration);_this=_super.call(this,props);_this.handleSubmit=function(event){event.preventDefault();var user={email:_this.state.email,password:_this.state.password,password_confirmation:_this.state.password_confirmation,status:\"Candidate\"};if(_this.state.password==_this.state.password_confirmation){axios.post(endpoint.register,user).then(function(res){console.log(user.email);console.log(res.data);Swal.fire({text:res.data.includes(\"address\")?language.registrationError[_this.context.language]:\"success\",icon:res.data.includes(\"address\")?\"error\":\"success\"});});}else{Swal.fire({icon:\"error\",title:\"ERROR\",text:language.passwordConfirmationError[_this.context.language]});}};_this.state={email:\"\",password:\"\",password_confirmation:\"\",registrationErrors:\"\"};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Registration,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"homeScreen\",style:{display:\"flex\",justifyContent:\"center\",flexDirection:\"column\",maxWidth:800,marginLeft:\"auto\",marginRight:\"auto\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\"},children:language.registrationTitle[this.context.language]}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:language.registrationPageDescription[this.context.language]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(DefaultInput,{label:language.emailPlaceHolder[this.context.language],type:\"email\",name:\"email\",value:this.state.email,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(DefaultInput,{label:language.passwordPlaceHolder[this.context.language],type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(DefaultInput,{label:language.passwordConfirmationPlaceHolder[this.context.language],type:\"password\",name:\"password_confirmation\",value:this.state.password_confirmation,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(DefaultButton,{type:\"submit\",text:language.registerButton[this.context.language],borderColor:DARK_GREEN,backgroundColor:GREEN,textColor:WHITE}),/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/\"},children:[\" \",language.mainPageLink[this.context.language],\" \"]})]})]});}}]);return Registration;}(React.Component);Registration.contextType=UserContext;export default Registration;","map":{"version":3,"sources":["C:/Git/VotingAid-1/client/src/containers/registration/index.jsx"],"names":["React","Component","axios","Link","Swal","language","UserContext","endpoint","DefaultInput","DefaultButton","DARK_GREEN","GREEN","WHITE","Registration","props","handleSubmit","event","preventDefault","user","email","state","password","password_confirmation","status","post","register","then","res","console","log","data","fire","text","includes","registrationError","context","icon","title","passwordConfirmationError","registrationErrors","bind","handleChange","setState","target","name","value","display","justifyContent","flexDirection","maxWidth","marginLeft","marginRight","textAlign","registrationTitle","registrationPageDescription","emailPlaceHolder","passwordPlaceHolder","passwordConfirmationPlaceHolder","registerButton","pathname","mainPageLink","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport language from \"../../properties/language\";\r\nimport { UserContext } from \"../../context/userContext\";\r\nimport { endpoint } from \"../../api\";\r\nimport DefaultInput from \"../../components/defaultInput\";\r\nimport DefaultButton from \"../../components/defaultButton\";\r\nimport { DARK_GREEN, GREEN, WHITE } from \"../../helpers/constants\";\r\n\r\nclass Registration extends React.Component {\r\n  static contextType = UserContext;\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      password_confirmation: \"\",\r\n      registrationErrors: \"\",\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const user = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      password_confirmation: this.state.password_confirmation,\r\n      status: \"Candidate\",\r\n    };\r\n    if (this.state.password == this.state.password_confirmation) {\r\n      axios.post(endpoint.register, user).then((res) => {\r\n        console.log(user.email);\r\n        console.log(res.data);\r\n        Swal.fire({\r\n          text: res.data.includes(\"address\")\r\n            ? language.registrationError[this.context.language]\r\n            : \"success\",\r\n          icon: res.data.includes(\"address\") ? \"error\" : \"success\",\r\n        });\r\n      });\r\n    } else {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"ERROR\",\r\n        text: language.passwordConfirmationError[this.context.language],\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"homeScreen\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          flexDirection: \"column\",\r\n          maxWidth: 800,\r\n          marginLeft: \"auto\",\r\n          marginRight: \"auto\",\r\n        }}\r\n      >\r\n\t\t<h1 style={{ textAlign: \"center\" }}>\r\n          {language.registrationTitle[this.context.language]}\r\n        </h1>\r\n        <p style={{ textAlign: \"center\" }}>\r\n          {language.registrationPageDescription[this.context.language]}\r\n        </p>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <DefaultInput\r\n            label={language.emailPlaceHolder[this.context.language]}\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={this.state.email}\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n          <DefaultInput\r\n            label={language.passwordPlaceHolder[this.context.language]}\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={this.state.password}\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n          <DefaultInput\r\n            label={\r\n              language.passwordConfirmationPlaceHolder[this.context.language]\r\n            }\r\n            type=\"password\"\r\n            name=\"password_confirmation\"\r\n            value={this.state.password_confirmation}\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n          <DefaultButton\r\n            type=\"submit\"\r\n            text={language.registerButton[this.context.language]}\r\n            borderColor={DARK_GREEN}\r\n            backgroundColor={GREEN}\r\n            textColor={WHITE}\r\n          />\r\n          <Link\r\n            to={{\r\n              pathname: \"/\",\r\n            }}\r\n          >\r\n            {\" \"}\r\n            {language.mainPageLink[this.context.language]}{\" \"}\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Registration;\r\n"]},"metadata":{},"sourceType":"module"}