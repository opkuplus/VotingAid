{"ast":null,"code":"import _classCallCheck from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import language from\"../../properties/language\";import axios from\"axios\";import{endpoint}from\"../../api\";import{UserContext}from\"../../context/userContext\";import DefaultInput from\"../../components/defaultInput\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var FromValueItem=function FromValueItem(props){/* console.log('formvalueitem')\r\nconsole.log(props)*/return/*#__PURE__*/_jsxs(\"label\",{className:\"boxContainer\",children:[/*#__PURE__*/_jsx(\"span\",{className:props.isActive?\"checkActive\":\"checkPassive\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:14,textAlign:\"center\",display:\"flex\",justifyContent:\"center\"},children:props.value})]});};export var FormValueContainer=function FormValueContainer(props){/*console.log('formvaluecontainer')\r\nconsole.log(props)*/var staticValue=[-2,-1,0,1,2];return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",fontSize:14},children:staticValue.map(function(value,idx){return/*#__PURE__*/_jsx(FromValueItem,{value:value,isActive:props.answer===value,question:props.answer,idx:idx});})});};export var CandidateAnswers=/*#__PURE__*/function(_Component){_inherits(CandidateAnswers,_Component);var _super=_createSuper(CandidateAnswers);function CandidateAnswers(props){var _this;_classCallCheck(this,CandidateAnswers);_this=_super.call(this,props);_this.state={questions:[],answers:[],answersDesc:[],filledFormQuestion:[],area:\"\",path:_this.props.candidateInfo.studentAssociation,loader:true,disabled:true};return _this;}_createClass(CandidateAnswers,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var email=this.props.candidateInfo.email;console.log(this.state.path);axios.post(endpoint.questions,{data:this.state.path}).then(function(res){_this2.setState({questions:res.data});axios.post(endpoint.fillForm,{data:email}).then(function(response){console.log(response);var oldQuestions=res.data;var questionDesc=[];var questionNumber=[];oldQuestions.map(function(question,idx){Object.assign(oldQuestions[idx],{questionValue:Object.values(response.data.filledForm).filter(function(item){return isNaN(item);})[idx],questionNumber:Object.values(response.data.filledForm).filter(function(item){return!isNaN(item);})[idx]});questionDesc.push(Object.values(response.data.filledForm).filter(function(item){return isNaN(item);})[idx]);questionNumber.push(Object.values(response.data.filledForm).filter(function(item){return!isNaN(item);})[idx]);});_this2.setState({questions:oldQuestions});_this2.setState({answersDesc:questionDesc,answers:questionNumber});_this2.setState({loader:false});});});}},{key:\"isQuest\",value:function isQuest(counter){if(this.context.user!==\"Quest\"){return/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:counter,placeholder:\"Explain your choice\",style:{marginBottom:\"41px\",width:\"50%\"},disabled:this.state.disabled});}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(\"div\",{className:\"homeScreen\",style:{display:\"flex\",justifyContent:\"center\",flexDirection:\"column\",maxWidth:500,marginLeft:\"auto\",marginRight:\"auto\"},children:this.state.loader?/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:\"Waiting for data...\"})}):this.state.questions&&React.Children.toArray(this.state.questions.map(function(question,idx){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"questionSet\",children:[/*#__PURE__*/_jsxs(\"label\",{style:{fontSize:16},children:[/*#__PURE__*/_jsx(\"strong\",{children:language.questionHolder[_this3.context.language]}),_this3.context.language===\"fin\"?question.questionFin:question.question]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",fontSize:14},children:[/*#__PURE__*/_jsx(\"span\",{children:language.disagreeButton[_this3.context.language]}),/*#__PURE__*/_jsx(\"span\",{className:\"agg\",children:language.agreeButton[_this3.context.language]})]}),_this3.state.answers&&/*#__PURE__*/_jsx(FormValueContainer,{answer:_this3.state.answers[idx],idx:idx}),_this3.state.answersDesc&&/*#__PURE__*/_jsx(DefaultInput,{label:\"Explain your choice\",type:\"text\",name:idx,value:_this3.state.answersDesc[idx],disabled:_this3.state.disabled})]})});}))});}}]);return CandidateAnswers;}(Component);CandidateAnswers.contextType=UserContext;export default CandidateAnswers;","map":{"version":3,"sources":["C:/Git/VotingAid-1/client/src/containers/candidateAnswers/index.jsx"],"names":["React","Component","language","axios","endpoint","UserContext","DefaultInput","FromValueItem","props","isActive","fontSize","textAlign","display","justifyContent","value","FormValueContainer","staticValue","map","idx","answer","CandidateAnswers","state","questions","answers","answersDesc","filledFormQuestion","area","path","candidateInfo","studentAssociation","loader","disabled","email","console","log","post","data","then","res","setState","fillForm","response","oldQuestions","questionDesc","questionNumber","question","Object","assign","questionValue","values","filledForm","filter","item","isNaN","push","counter","context","user","marginBottom","width","flexDirection","maxWidth","marginLeft","marginRight","Children","toArray","questionHolder","questionFin","disagreeButton","agreeButton","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport language from \"../../properties/language\";\r\nimport axios from \"axios\";\r\nimport { endpoint } from \"../../api\";\r\nimport { UserContext } from \"../../context/userContext\";\r\nimport DefaultInput from \"../../components/defaultInput\";\r\n\r\nexport const FromValueItem = (props) => {\r\n  /* console.log('formvalueitem')\r\nconsole.log(props)*/\r\n  return (\r\n    <label className=\"boxContainer\">\r\n      <span className={props.isActive ? \"checkActive\" : \"checkPassive\"}></span>\r\n      <span\r\n        style={{\r\n          fontSize: 14,\r\n          textAlign: \"center\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        {props.value}\r\n      </span>\r\n    </label>\r\n  );\r\n};\r\n\r\nexport const FormValueContainer = (props) => {\r\n  /*console.log('formvaluecontainer')\r\nconsole.log(props)*/\r\n  const staticValue = [-2, -1, 0, 1, 2];\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        fontSize: 14,\r\n      }}\r\n    >\r\n      {staticValue.map((value, idx) => (\r\n        <FromValueItem\r\n          value={value}\r\n          isActive={props.answer === value}\r\n          question={props.answer}\r\n          idx={idx}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport class CandidateAnswers extends Component {\r\n  static contextType = UserContext;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      questions: [],\r\n      answers: [],\r\n      answersDesc: [],\r\n      filledFormQuestion: [],\r\n      area: \"\",\r\n      path: this.props.candidateInfo.studentAssociation,\r\n      loader: true,\r\n      disabled: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    var email = this.props.candidateInfo.email;\r\n      console.log(this.state.path)\r\n    axios.post(endpoint.questions, { data: this.state.path }).then((res) => {\r\n      this.setState({ questions: res.data });\r\n      axios.post(endpoint.fillForm, { data: email }).then((response) => {\r\n        console.log(response);\r\n        let oldQuestions = res.data;\r\n        let questionDesc = [];\r\n        let questionNumber = [];\r\n        oldQuestions.map((question, idx) => {\r\n          Object.assign(oldQuestions[idx], {\r\n            questionValue: Object.values(response.data.filledForm).filter(\r\n              (item) => isNaN(item)\r\n            )[idx],\r\n            questionNumber: Object.values(response.data.filledForm).filter(\r\n              (item) => !isNaN(item)\r\n            )[idx],\r\n          });\r\n          questionDesc.push(\r\n            Object.values(response.data.filledForm).filter((item) =>\r\n              isNaN(item)\r\n            )[idx]\r\n          );\r\n          questionNumber.push(\r\n            Object.values(response.data.filledForm).filter(\r\n              (item) => !isNaN(item)\r\n            )[idx]\r\n          );\r\n        });\r\n        this.setState({ questions: oldQuestions });\r\n        this.setState({\r\n          answersDesc: questionDesc,\r\n          answers: questionNumber,\r\n        });\r\n        this.setState({ loader: false });\r\n      });\r\n    });\r\n  }\r\n\r\n  isQuest(counter) {\r\n    if (this.context.user !== \"Quest\") {\r\n      return (\r\n        <input\r\n          type=\"text\"\r\n          name={counter}\r\n          placeholder=\"Explain your choice\"\r\n          style={{ marginBottom: \"41px\", width: \"50%\" }}\r\n          disabled={this.state.disabled}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"homeScreen\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          flexDirection: \"column\",\r\n          maxWidth: 500,\r\n          marginLeft: \"auto\",\r\n          marginRight: \"auto\",\r\n        }}\r\n      >\r\n        {this.state.loader ? (\r\n          <div style={{ display: \"flex\" }}>\r\n            <p style={{ textAlign: \"center\" }}>Waiting for data...</p>\r\n          </div>\r\n        ) : (\r\n          this.state.questions &&\r\n          React.Children.toArray(\r\n            this.state.questions.map((question, idx) => (\r\n              <>\r\n                <div className=\"questionSet\">\r\n                  <label style={{ fontSize: 16 }}>\r\n                    <strong>\r\n                      {language.questionHolder[this.context.language]}\r\n                    </strong>\r\n                    {this.context.language === \"fin\"\r\n                      ? question.questionFin\r\n                      : question.question}\r\n                  </label>\r\n\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      justifyContent: \"space-between\",\r\n                      fontSize: 14,\r\n                    }}\r\n                  >\r\n                    <span>\r\n                      {language.disagreeButton[this.context.language]}\r\n                    </span>\r\n                    <span className=\"agg\">\r\n                      {language.agreeButton[this.context.language]}\r\n                    </span>\r\n                  </div>\r\n\r\n                  {this.state.answers && (\r\n                    <FormValueContainer\r\n                      answer={this.state.answers[idx]}\r\n                      idx={idx}\r\n                    />\r\n                  )}\r\n\r\n                  {this.state.answersDesc && (\r\n                    <DefaultInput\r\n                      label=\"Explain your choice\"\r\n                      type=\"text\"\r\n                      name={idx}\r\n                      value={this.state.answersDesc[idx]}\r\n                      disabled={this.state.disabled}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </>\r\n            ))\r\n          )\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default CandidateAnswers;\r\n"]},"metadata":{},"sourceType":"module"}