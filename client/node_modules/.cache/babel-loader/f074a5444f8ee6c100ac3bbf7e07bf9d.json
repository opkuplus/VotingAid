{"ast":null,"code":"import _defineProperty from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{DARK_GREEN,DARK_RED,GREEN,RED,WHITE}from\"../../helpers/constants\";import DefaultButton from\"../defaultButton\";import DefaultInput from\"../defaultInput\";import{endpoint}from\"../../api\";import language from\"../../properties/language\";import{UserContext}from\"../../context/userContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var QuestionsItem=/*#__PURE__*/function(_Component){_inherits(QuestionsItem,_Component);var _super=_createSuper(QuestionsItem);function QuestionsItem(props){var _this;_classCallCheck(this,QuestionsItem);_this=_super.call(this,props);_this.changeInputValue=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.confirmChange=function(e){e.preventDefault();var data={question:_this.state.inputEnglish,questionFin:_this.state.inputFinnish,questionSwe:_this.state.inputSwedish,id:_this.props.question._id};axios.post(endpoint.submitQhuahoo,{data:data}).then(function(res){alert(\"We've changed you\");}).catch(function(e){console.log(e);});};_this.confirmDelete=function(e){e.preventDefault();axios.post(endpoint.deleteQhuahoo,{id:_this.props.question._id}).then(function(res){alert(\"is removed\");console.log(res);_this.props.refreshQuestions();});};_this.state={inputFinnish:\"\",inputEnglish:\"\",inputSwedish:\"\"};return _this;}_createClass(QuestionsItem,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({inputFinnish:this.props.question.questionFin,inputEnglish:this.props.question.question,inputSwedish:this.props.question.questionSwe});}},{key:\"render\",value:function render(){var _this$props=this.props,idx=_this$props.idx,question=_this$props.question;return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",borderBottom:\"1px solid #999999\",padding:\"20px 0\"},children:[/*#__PURE__*/_jsx(DefaultInput,{label:\"Kysymys suomeksi\",type:\"text\",name:\"inputFinnish\",value:this.state.inputFinnish,onChange:this.changeInputValue}),/*#__PURE__*/_jsx(DefaultInput,{label:\"Question in English\",type:\"text\",name:\"inputEnglish\",value:this.state.inputEnglish,onChange:this.changeInputValue}),/*#__PURE__*/_jsx(DefaultInput,{label:\"Fr\\xE5gan p\\xE5 svenska\",type:\"text\",name:\"inputSwedish\",value:this.state.inputSwedish,onChange:this.changeInputValue}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(\"b\",{style:{fontSize:16},children:[\" \",language.school[this.context.language],\" \",question.area]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginRight:10},children:/*#__PURE__*/_jsx(DefaultButton,{borderColor:DARK_GREEN,backgroundColor:GREEN,textColor:WHITE,onClick:this.confirmChange,text:language.editButton[this.context.language]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DefaultButton,{borderColor:DARK_RED,backgroundColor:RED,textColor:WHITE,onClick:this.confirmDelete,text:language.deleteButton[this.context.language]})})]})]})]},idx);}}]);return QuestionsItem;}(Component);QuestionsItem.contextType=UserContext;export default QuestionsItem;","map":{"version":3,"sources":["C:/Git/VotingAid-1/client/src/components/questionItem/index.jsx"],"names":["React","Component","axios","DARK_GREEN","DARK_RED","GREEN","RED","WHITE","DefaultButton","DefaultInput","endpoint","language","UserContext","QuestionsItem","props","changeInputValue","e","setState","target","name","value","confirmChange","preventDefault","data","question","state","inputEnglish","questionFin","inputFinnish","questionSwe","inputSwedish","id","_id","post","submitQhuahoo","then","res","alert","catch","console","log","confirmDelete","deleteQhuahoo","refreshQuestions","idx","display","flexDirection","borderBottom","padding","justifyContent","alignItems","fontSize","school","context","area","marginRight","editButton","deleteButton","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  DARK_GREEN,\r\n  DARK_RED,\r\n  GREEN,\r\n  RED,\r\n  WHITE,\r\n} from \"../../helpers/constants\";\r\nimport DefaultButton from \"../defaultButton\";\r\nimport DefaultInput from \"../defaultInput\";\r\nimport { endpoint } from \"../../api\";\r\nimport language from \"../../properties/language\";\r\nimport { UserContext } from \"../../context/userContext\";\r\n\r\nclass QuestionsItem extends Component {\r\n  static contextType = UserContext;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      inputFinnish: \"\",\r\n      inputEnglish: \"\",\r\n      inputSwedish: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      inputFinnish: this.props.question.questionFin,\r\n      inputEnglish: this.props.question.question,\r\n      inputSwedish: this.props.question.questionSwe,\r\n    });\r\n  }\r\n\r\n  changeInputValue = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  confirmChange = (e) => {\r\n    e.preventDefault();\r\n    var data = {\r\n      question: this.state.inputEnglish,\r\n      questionFin: this.state.inputFinnish,\r\n      questionSwe: this.state.inputSwedish,\r\n      id: this.props.question._id,\r\n    };\r\n\r\n    axios\r\n      .post(endpoint.submitQhuahoo, { data })\r\n      .then((res) => {\r\n        alert(\"We've changed you\");\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  confirmDelete = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(endpoint.deleteQhuahoo, { id: this.props.question._id })\r\n      .then((res) => {\r\n        alert(\"is removed\");\r\n        console.log(res);\r\n        this.props.refreshQuestions();\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { idx, question } = this.props;\r\n    return (\r\n      <div\r\n        key={idx}\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          borderBottom: \"1px solid #999999\",\r\n          padding: \"20px 0\",\r\n        }}\r\n      >\r\n        <DefaultInput\r\n          label=\"Kysymys suomeksi\"\r\n          type=\"text\"\r\n          name=\"inputFinnish\"\r\n          value={this.state.inputFinnish}\r\n          onChange={this.changeInputValue}\r\n        />\r\n\r\n        <DefaultInput\r\n          label=\"Question in English\"\r\n          type=\"text\"\r\n          name=\"inputEnglish\"\r\n          value={this.state.inputEnglish}\r\n          onChange={this.changeInputValue}\r\n        />\r\n\r\n        <DefaultInput\r\n          label=\"Frågan på svenska\"\r\n          type=\"text\"\r\n          name=\"inputSwedish\"\r\n          value={this.state.inputSwedish}\r\n          onChange={this.changeInputValue}\r\n        />\r\n\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <b style={{ fontSize: 16 }}>\r\n            {\" \"}\r\n            {language.school[this.context.language]} {question.area}\r\n          </b>\r\n          <div style={{ display: \"flex\" }}>\r\n            <div style={{ marginRight: 10 }}>\r\n              <DefaultButton\r\n                borderColor={DARK_GREEN}\r\n                backgroundColor={GREEN}\r\n                textColor={WHITE}\r\n                onClick={this.confirmChange}\r\n                text={language.editButton[this.context.language]}\r\n              />\r\n            </div>\r\n            <div>\r\n              <DefaultButton\r\n                borderColor={DARK_RED}\r\n                backgroundColor={RED}\r\n                textColor={WHITE}\r\n                onClick={this.confirmDelete}\r\n                text={language.deleteButton[this.context.language]}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QuestionsItem;\r\n"]},"metadata":{},"sourceType":"module"}