{"ast":null,"code":"import _classCallCheck from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Git/VotingAid-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import Picture from\"../../components/partials/picture\";import language from\"../../properties/language\";import{UserContext}from\"../../context/userContext\";import{endpoint}from\"../../api\";import CandidateAnswers from\"../candidateAnswers\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Suggestions=/*#__PURE__*/function(_Component){_inherits(Suggestions,_Component);var _super=_createSuper(Suggestions);function Suggestions(props){var _this;_classCallCheck(this,Suggestions);_this=_super.call(this,props);_this.hideComponent=function(name,e){console.log(e.target.id);console.log(_this.state.showCandidateAnswers);switch(name){case\"showCandidateAnswers\":if(_this.state.showCandidateAnswers!==-1){_this.setState({showCandidateAnswers:-1});}else{_this.setState({showCandidateAnswers:e.target.id});}break;}};_this.state={suggestions:[],showCandidateAnswers:-1};return _this;}_createClass(Suggestions,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var data={answers:this.props.location.data.answers,studentAssociation:this.props.location.data.studentAssociation};axios.post(endpoint.suggested,{data:data}).then(function(res){_this2.setState({suggestions:res.data});console.log(\"suggested answers\");console.log(res.data);});}},{key:\"render\",value:function render(){var _this3=this;var showCandidateAnswers=this.state.showCandidateAnswers;var myData=[].concat(this.state.suggestions);if(this.state.suggestions.length>0){return/*#__PURE__*/_jsxs(\"div\",{className:\"candidateSuggestions\",style:{display:\"flex\",justifyContent:\"center\",flexDirection:\"column\",marginLeft:\"auto\",marginRight:\"auto\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{display:\"inline-block\",justifyContent:\"center\",flexDirection:\"column\",alignItems:\"center\"},children:language.matchingCandidates[this.context.language]}),myData.sort(function(a,b){return a.similarity<b.similarity?1:-1;}).map(function(candidate,index){return/*#__PURE__*/ (/*console.log(this.state.suggestions),*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"candidateSuggestionCenter\",children:[/*#__PURE__*/_jsxs(\"h2\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",flexDirection:\"row\"},children:[\" \",/*#__PURE__*/_jsx(Picture,{className:\"pic\",source:process.env.PUBLIC_URL+candidate.image}),\" \",candidate.name,\" \",candidate.surname,\" \",candidate.similarity.toFixed()+\"%\"]}),\" \"]}),showCandidateAnswers==index&&/*#__PURE__*/_jsx(CandidateAnswers,{candidateInfo:candidate}),/*#__PURE__*/_jsx(\"button\",{style:{margin:\"0 auto\",display:\"block\",justifyContent:\"center\",alignItems:\"center\",flexDirection:\"row\",/*paddingLeft: '10px',\r\n  paddingRight: '10px',*/backgroundColor:\"transparent\",width:\"auto\",borderTop:\"none\",borderLeft:\"none\",borderRight:\"none\",fontSize:\"20px\"},id:index,onClick:function onClick(e){return _this3.hideComponent(\"showCandidateAnswers\",e);},children:showCandidateAnswers===-1?\"Show more\":\"Show less\"})]}));})]});}else{return/*#__PURE__*/_jsxs(\"h2\",{className:\"candidateSuggestions\",style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",flexDirection:\"row\"},children:[\" \",\"Unfortunately no one related with your answers\",\" \"]});}}}]);return Suggestions;}(Component);Suggestions.contextType=UserContext;export default Suggestions;","map":{"version":3,"sources":["C:/Git/VotingAid-1/client/src/containers/suggestedCandidates/index.jsx"],"names":["React","Component","axios","Picture","language","UserContext","endpoint","CandidateAnswers","Suggestions","props","hideComponent","name","e","console","log","target","id","state","showCandidateAnswers","setState","suggestions","data","answers","location","studentAssociation","post","suggested","then","res","myData","concat","length","display","justifyContent","flexDirection","marginLeft","marginRight","alignItems","matchingCandidates","context","sort","a","b","similarity","map","candidate","index","process","env","PUBLIC_URL","image","surname","toFixed","margin","backgroundColor","width","borderTop","borderLeft","borderRight","fontSize","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Picture from \"../../components/partials/picture\";\r\nimport language from \"../../properties/language\";\r\nimport { UserContext } from \"../../context/userContext\";\r\nimport { endpoint } from \"../../api\";\r\nimport CandidateAnswers from \"../candidateAnswers\";\r\n\r\nclass Suggestions extends Component {\r\n  static contextType = UserContext;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      suggestions: [],\r\n      showCandidateAnswers: -1,\r\n    };\r\n  }\r\n\r\n  hideComponent = (name, e) => {\r\n    console.log(e.target.id);\r\n    console.log(this.state.showCandidateAnswers);\r\n    switch (name) {\r\n      case \"showCandidateAnswers\":\r\n        if(this.state.showCandidateAnswers !== -1) {\r\n          this.setState({showCandidateAnswers: -1});\r\n        }\r\n        else{\r\n          this.setState({showCandidateAnswers: e.target.id});\r\n        }\r\n        break;\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    var data = {\r\n      answers: this.props.location.data.answers,\r\n      studentAssociation: this.props.location.data.studentAssociation,\r\n    };\r\n    axios.post(endpoint.suggested, { data: data }).then((res) => {\r\n      this.setState({ suggestions: res.data });\r\n      console.log(\"suggested answers\");\r\n      console.log(res.data);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { showCandidateAnswers } = this.state;\r\n    const myData = [].concat(this.state.suggestions);\r\n    if (this.state.suggestions.length > 0) {\r\n      return (\r\n        <div\r\n          className=\"candidateSuggestions\"\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            flexDirection: \"column\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              display: \"inline-block\",\r\n              justifyContent: \"center\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            {language.matchingCandidates[this.context.language]}\r\n          </h1>\r\n          {myData\r\n            .sort((a, b) => (a.similarity < b.similarity ? 1 : -1))\r\n            .map((candidate, index) => {\r\n              return (\r\n                /*console.log(this.state.suggestions),*/\r\n                <div>\r\n                  <div className=\"candidateSuggestionCenter\">\r\n                    <h2\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                        flexDirection: \"row\",\r\n                      }}\r\n                    >\r\n                      {\" \"}\r\n                      {\r\n                        <Picture\r\n                          className=\"pic\"\r\n                          source={process.env.PUBLIC_URL + candidate.image}\r\n                        ></Picture>\r\n                      }{\" \"}\r\n                      {candidate.name} {candidate.surname}{\" \"}\r\n                      {candidate.similarity.toFixed() + \"%\"}\r\n                    </h2>{\" \"}\r\n                  </div>\r\n                  {showCandidateAnswers == index && (\r\n                    <CandidateAnswers candidateInfo={candidate} />\r\n                  )}\r\n                  <button\r\n                    style={{\r\n                      margin: \"0 auto\",\r\n                      display: \"block\",\r\n                      justifyContent: \"center\",\r\n                      alignItems: \"center\",\r\n                      flexDirection: \"row\",\r\n                      /*paddingLeft: '10px',\r\n  paddingRight: '10px',*/\r\n                      backgroundColor: \"transparent\",\r\n                      width: \"auto\",\r\n                      borderTop: \"none\",\r\n                      borderLeft: \"none\",\r\n                      borderRight: \"none\",\r\n                      fontSize: \"20px\",\r\n                    }}\r\n                    id={index}\r\n                    onClick={(e) =>\r\n                      this.hideComponent(\"showCandidateAnswers\", e)\r\n                    }\r\n                  >\r\n                    {showCandidateAnswers === -1 ? \"Show more\" : \"Show less\"}\r\n                  </button>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <h2\r\n          className=\"candidateSuggestions\"\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            flexDirection: \"row\",\r\n          }}\r\n        >\r\n          {\" \"}\r\n          Unfortunately no one related with your answers{\" \"}\r\n        </h2>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Suggestions;\r\n"]},"metadata":{},"sourceType":"module"}